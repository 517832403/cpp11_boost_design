#import path ;
import os ;
path-constant BOOST_ROOT : [ os.environ BOOST_ROOT ] ;
path-constant CWD : . ;

project 
	: requirements
	  <implicit-dependency>/boost//headers
	  <debug-symbols>on
	  <cxxflags>-std=c++11
	: default-build 
           debug
	  <link>shared
	  <threading>multi
	: build-dir bin
	;

use-project /boost : $(BOOST_ROOT) ;
alias dependencies
	: /boost/filesystem//boost_filesystem
	  /boost/thread//boost_thread
	  /boost/locale//boost_locale
	  /boost/regex//boost_regex
	;
	  
exe write_json_array
	: $(CWD)/src/write_json_array.cpp
	  dependencies
	: <implicit-dependency>/boost//headers
	  <debug-symbols>on
	;


exe directory
	: $(CWD)/src/test_directory.cpp
	  dependencies
	: <include>$(CWD)/
	  <threading>multi
	  <implicit-dependency>/boost//headers
	  <debug-symbols>on
	: <include>$(CWD)/
	;
# [ glob-tree *.cpp : unittest ]
# [ glob-tree common.so external.so internal.so ]	
exe regex
	: $(CWD)/src/regex.cpp
	  dependencies
	: <threading>multi
	  <implicit-dependency>/boost//headers
   	  <debug-symbols>on
	: <library>dependencies
	;
